# ============================================
# BlogSpy - NPM Configuration
# ============================================
# Optimized for Next.js 16 + React 19
# Prevents version conflicts & ensures consistency
# ============================================

# ============================================
# PACKAGE MANAGER
# ============================================

# Enforce npm version (prevents yarn/pnpm conflicts)
engine-strict=true

# Use npm workspaces if needed
# workspaces-update=true

# ============================================
# PEER DEPENDENCIES (CRITICAL FOR NEXT.JS 16)
# ============================================

# Auto-install peer dependencies (React 19 compatibility)
auto-install-peers=true

# Use legacy mode for packages not yet supporting React 19
legacy-peer-deps=true

# Don't enforce strict peer dependency rules (for React 19 compat)
strict-peer-dependencies=false

# ============================================
# VERSION LOCKING (PREVENT CONFLICTS)
# ============================================

# Save exact versions (no ^ or ~)
save-exact=true
save-prefix=""

# Always create/update package-lock.json
package-lock=true

# Use package-lock.json for installs
package-lock-only=false

# ============================================
# REGISTRY & NETWORK
# ============================================

# NPM Registry
registry=https://registry.npmjs.org/

# Network timeouts
fetch-retries=3
fetch-retry-factor=10
fetch-retry-mintimeout=10000
fetch-retry-maxtimeout=60000

# Prefer offline cache when available
prefer-online=false

# ============================================
# SECURITY
# ============================================

# Run security audits
audit=true

# Security level (low, moderate, high, critical)
audit-level=moderate

# ============================================
# INSTALLATION OPTIMIZATION
# ============================================

# Deduplicate dependencies
prefer-dedupe=true

# Don't fund prompts
fund=false

# Progress display
progress=true

# Logging level (silent, error, warn, info, verbose)
loglevel=warn

# ============================================
# CACHE CONFIGURATION
# ============================================

# Cache minimum age (1 hour)
cache-min=3600

# Cache verification
cache-verify=true

# ============================================
# SPECIFIC OVERRIDES FOR COMMON ISSUES
# ============================================

# Radix UI peer deps (Next.js 16 + React 19)
# These are auto-handled by auto-install-peers=true

# TipTap compatibility
# Handled by strict peer deps

# Prisma generation
# Runs via postinstall script

# ============================================
# OPTIONAL: NODE VERSION ENFORCEMENT
# ============================================
# Uncomment to enforce Node version
# node-version=>=18.17.0

# ============================================
# DEVELOPMENT SETTINGS
# ============================================

# Don't update notifier in CI
update-notifier=false

# Ignore scripts in development (security)
# ignore-scripts=false

# ============================================
# PRODUCTION SETTINGS
# ============================================

# Production flag (set via npm install --production)
# production=false

# Don't install devDependencies in production
# only=prod

# ============================================
# WORKSPACE CONFIGURATION (if needed later)
# ============================================

# Enable workspaces
# workspaces=true

# ============================================
# LEGACY COMPATIBILITY
# ============================================

# Don't use shrinkwrap (use package-lock.json)
shrinkwrap=false

# ============================================
# CUSTOM SETTINGS FOR BLOGSPY
# ============================================

# Prisma: Auto-generate after install
# (handled by postinstall script in package.json)

# Next.js: Ensure React 19 compatibility
# (handled by peer deps above)

# Tailwind: No special config needed

# ============================================
# NOTES
# ============================================
# - This config prevents version conflicts
# - Optimized for Next.js 16 + React 19
# - Ensures team consistency
# - Safe for production deployments
# - Compatible with Vercel
# ============================================
